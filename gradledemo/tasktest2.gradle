// -----任务的启用和禁用
task task1{
  doLast {
    println 'task1 doLast'
  }
}

task1.enabled = false

// -----onlyIf断言
final String EXECUTE_TASK2 = 'execute_task2'
task task2{
  doLast{
    println 'task2 doLast'
  }
}

task2.onlyIf{
  def execute = false
  if(project.hasProperty("build_apps")){
    String buildApps = project.property('build_apps')
    if(EXECUTE_TASK2 == buildApps){
      execute = true
    }
  }
  execute
}

//----- 添加规则
tasks.addRule('没有找到任务'){
  String taskName->
    task(taskName){
      doLast {
        println "${taskName}这个任务不存在"
      }
    }
}